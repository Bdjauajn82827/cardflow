# Устранение проблем при деплое

Этот документ содержит информацию о распространенных проблемах, которые могут возникнуть при деплое приложения CardFlow на Vercel, и способы их решения.

## Несовместимость версий React и зависимостей

При деплое могут возникать предупреждения о несовместимости версий React и библиотеки редактора. Эти предупреждения связаны с тем, что некоторые зависимости рассчитаны на более ранние версии React.

**Решение:**
1. Удалите ненужные зависимости из корневого package.json:
   ```
   npm uninstall draft-js draft-js-export-html react-draft-wysiwyg @types/draft-js @types/react-draft-wysiwyg
   ```

2. В проекте используется TinyMCE и React-Quill вместо Draft.js, поэтому эти зависимости не нужны.

## Уязвимости в зависимостях

Vercel может выявить уязвимости в зависимостях проекта.

**Решение:**
1. Выполните скрипт исправления уязвимостей:
   ```
   npm run audit-fix
   ```

2. Этот скрипт автоматически попытается исправить уязвимости во всех частях проекта.

## Предупреждения ESLint

В логах сборки могут появляться предупреждения линтера о неиспользуемых переменных.

**Решение:**
1. Удалите неиспользуемые переменные из кода.
2. Альтернативно, добавьте комментарий `// eslint-disable-next-line` перед строками с предупреждениями.

## Проблемы с версией Node.js

Vercel автоматически выбирает версию Node.js на основе настроек в package.json.

**Решение:**
Укажите конкретную версию Node.js в свойстве `engines` в файле package.json:
```json
"engines": {
  "node": "16.x"
}
```

## Проблемы с переменными окружения

Если приложение не работает после деплоя, проверьте, правильно ли настроены переменные окружения в Vercel.

**Решение:**
1. Перейдите в настройки проекта в Vercel
2. Проверьте раздел "Environment Variables"
3. Убедитесь, что все необходимые переменные окружения настроены согласно документации

## Проблемы с подключением к базе данных Supabase

Если приложение не может подключиться к базе данных после деплоя, проверьте настройки подключения.

**Решение:**
1. Убедитесь, что строка подключения к базе данных правильная
2. Проверьте, что IP-адреса серверов Vercel добавлены в список разрешенных в Supabase
3. Проверьте, что база данных инициализирована с помощью скрипта database_schema.sql
