# Руководство по деплою приложения CardFlow на Vercel

Это пошаговое руководство поможет вам развернуть приложение CardFlow на Vercel с использованием вашего домена.

## Предварительные требования

- Аккаунт на [Vercel](https://vercel.com/)
- Ваш собственный домен, подключенный к Vercel
- База данных PostgreSQL в [Supabase](https://supabase.com/) (уже создана)
- Git-репозиторий с вашим проектом (GitHub, GitLab или Bitbucket)

## Шаг 1: Подготовка Git-репозитория

1. Создайте новый репозиторий на GitHub, GitLab или Bitbucket
2. Загрузите код вашего проекта в репозиторий:

```bash
cd /home/nixx/cards
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/yourusername/cardflow.git
git push -u origin main
```

## Шаг 2: Подготовка базы данных

База данных уже создана в Supabase со следующими параметрами подключения:
- **Host**: db.eskiyhqhittzpwoxfmvq.supabase.co
- **Database name**: postgres
- **User**: postgres
- **Password**: IFEzoP0ppdwJ7d39
- **Connection URL**: postgresql://postgres:IFEzoP0ppdwJ7d39@db.eskiyhqhittzpwoxfmvq.supabase.co:5432/postgres

### Создание таблиц базы данных

Выполните SQL скрипт из файла `database_setup.md` в SQL Editor в Supabase, чтобы создать необходимые таблицы.

## Шаг 3: Деплой на Vercel

1. Войдите в свой аккаунт Vercel: https://vercel.com/
2. Нажмите на кнопку "New Project"
3. Выберите ваш Git-репозиторий из списка
4. Настройте параметры деплоя:
   - **Framework Preset**: Other
   - **Root Directory**: Оставьте пустым (используйте корень репозитория)
   - **Build Command**: `npm run build`
   - **Output Directory**: `frontend/build`
   - **Install Command**: `npm run install-all`

5. Нажмите "Deploy"

## Шаг 4: Настройка переменных окружения

После первоначального деплоя:

1. Перейдите к настройкам вашего проекта в Vercel (вкладка "Settings")
2. Выберите "Environment Variables" в боковом меню
3. Следуйте инструкциям в файле `vercel_env_setup.md` для настройки всех необходимых переменных окружения

## Шаг 5: Настройка домена

1. В Vercel перейдите на вкладку "Domains"
2. Нажмите "Add" для добавления вашего домена
3. Следуйте инструкциям Vercel для настройки DNS-записей

## Шаг 6: Перезапуск деплоя

После настройки всех переменных окружения и домена:

1. Перейдите на вкладку "Deployments"
2. Найдите последний деплой
3. Нажмите на три точки (⋮) и выберите "Redeploy"

## Шаг 7: Проверка деплоя

1. Дождитесь завершения деплоя
2. Проверьте работоспособность приложения по вашему домену
3. Протестируйте основные функции:
   - Регистрация и вход
   - Создание и редактирование карточек
   - Управление рабочими пространствами

## Шаг 8: Настройка автоматических обновлений

Теперь ваше приложение настроено на автоматический деплой при каждом пуше в основную ветку репозитория. Чтобы внести изменения:

1. Внесите необходимые изменения в код
2. Закоммитьте и запушьте изменения в репозиторий
3. Vercel автоматически запустит новый деплой

## Дополнительная информация

### Мониторинг и логи

- Логи: Перейдите на страницу деплоя и выберите вкладку "Functions" или "Logs"
- Мониторинг: Vercel предоставляет базовый мониторинг в разделе "Analytics"

### Масштабирование

Если ваше приложение станет более популярным:

- Рассмотрите возможность перехода на платный план Supabase для большего объема базы данных
- Используйте Vercel Pro для расширенных возможностей масштабирования и мониторинга

### Бэкапы базы данных

Настройте регулярные резервные копии вашей базы данных в Supabase:

1. В проекте Supabase перейдите в раздел "Storage"
2. Настройте бэкапы через SQL или используя интерфейс Supabase
